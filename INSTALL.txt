

Bismark Installation notes
--------------------------

Simply unzip all files into a Bismark installation folder.
 
Bismark requires Bowtie to be installed on your machine. Bismark will assume
that the Bowtie executable is in your path. Alternatively you can specify
the path to Bowtie with --path_to_bowtie </../../bowtie>.

In order to work properly the current working directory must contain the
sequence files to be analysed.



Quick Start and Examples
------------------------

(I) Running the Bismark genome preparation

USAGE: bismark_genome_preparation [options] <path_to_genome_folder>

A typical command could look like this:

./bismark_genome_preparation --verbose /data/genomes/homo_sapiens/GRCh37/  



(II) Running Bismark

USAGE: bismark [options] <genome_folder> {-1 <mates1> -2 <mates2> | <singles>}

A typical single-end analysis could look like this:

./bismark -q --phred64-quals -n 1 -l 32 /data/genomes/homo_sapiens/GRCh37/ s_1_sequence.txt,s_2_sequence.txt



(III) Running the methylation extractor

USAGE: methylation_extractor [options] <filenames>

A typical command (removing an enzyme cut-site from the start of each fragment)
could look like this:

./methylation_extractor --single-end --ignore 3 --report Bismark_methylation_results_1.txt





How to use Bismark - a few more details
---------------------------------------


Bismark is a bisulfite mapping application written in Perl. Bisulfite
treated reads are aligned using the Bowtie short read aligner (Langmead B,
Trapnell C, Pop M, Salzberg SL. Ultrafast and memory-efficient alignment
of short DNA sequences to the human genome. Genome Biol 10:R25), and there-
fore it is an absolute requirement that Bowtie is installed on your
machine (see http://bowtie-bio.sourceforge.net/index.shtml).


Bismark comes distributed as three individual files:


(I) Bismark Genome Preparation

This script needs to be run only once to prepare the genome of your interest
for bisulfite alignments. You need to specify a directory containing the 
genome you want to align your reads against (please be aware that it currently
expects fastA files with .fa extension and only a single sequence entry per file),
and Bismark will create two individual folders within that directory, one for a 
C to T-converted genome and the other one for G to A-converted genome. Once these 
files have been created both genomes will be indexed in parallel using the
indexer bowtie-build. Once both C->T and G->A genome indexes have been created
you do not need to use the genome preparation script again (unless you want to
align to a different genome....). 


(II) Bismark

This is the bisulfite mapper and methylation caller itself. Bismark requires
you to specify only two things:

(i) the directory containing the genome of interest. This folder must contain
the two bisulfite genome subdirectories which were generated in the Bismark
Genome Preparations step (see above). 

(ii) the sequence file(s) you want to analyse (currently in either FastA or FastQ
format).

All other parameters are optional, e.g. you may specify a special path to the
Bowtie binaries, if you ommit this step it is assumed that Bowtie is in the path.  
You can see all options by typing "bismark --help".

In the current version, it is required that the current working directory does
also contain the sequence files to be analysed (this is likely to change in the
next release). Bismark produces a comprehensive output file as well as a mapping 
report file for each sequence file or each set of paired-end sequence files.


(III) Bismark methylation extractor

This is the final step in the Bismark methylation analysis. This script operates
on Bismark result files and extracts the methylation calls for every single C
analysed. In the current version Bismark discriminates only between cytosines in 
CpG context or in any other context. The methylation extractor comes with a few
options, such as ignoring the first x number of positions in the methylation
call string e.g. to remove a restriction enzyme site, or print a large, 
comprehensive output file for cytosines in CpG or in any other context (this
might produce files with several hundred million lines!). 
 

If you have any comments about Bismark we would like to hear them. You
can either enter them in our bug tracking system at:

http://www.bioinformatics.bbsrc.ac.uk/bugzilla/

..or send them directly to felix.krueger@bbsrc.ac.uk.

